<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Entrega ‚Ä¢ La Nonna</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#fefdf8;--text:#2d1b0e;--sub:#7a5c3c;--line:#e8d8c3;
  --accent:#c41e3a;--accent-700:#9a1a2d;--card:#fffaf0;
  --shadow:0 8px 32px rgba(196,30,58,0.08);--radius:16px;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Inter,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
header{background:var(--card);border-bottom:2px solid var(--line);padding:20px 40px;display:flex;align-items:center;justify-content:space-between;box-shadow:var(--shadow)}
.brand{font-size:28px;font-weight:700;color:var(--accent);letter-spacing:-0.5px}
nav.menu{display:flex;gap:24px;align-items:center}
nav.menu a{text-decoration:none;color:var(--text);font-weight:500;padding:8px 16px;border-radius:25px;transition:all 0.3s ease}
nav.menu a:hover{background:var(--accent);color:white}
.wrap{max-width:1000px;margin:40px auto;padding:0 20px}
h1{text-align:center;margin-bottom:40px;color:var(--accent);font-size:2.2rem}
.delivery-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;margin-bottom:40px}
.option-card{background:var(--card);border:2px solid var(--line);border-radius:var(--radius);padding:30px;text-align:center;transition:all 0.3s ease;box-shadow:var(--shadow);position:relative}
.option-card:hover{transform:translateY(-5px);box-shadow:0 12px 40px rgba(196,30,58,0.15)}
.option-card.selected{border-color:var(--accent);background:linear-gradient(135deg,var(--card) 0%,#fff0f0 100%)}
.option-icon{font-size:3rem;margin-bottom:20px}
.option-card h3{color:var(--accent);margin-bottom:15px;font-size:1.4rem}
.option-card p{color:var(--sub);margin-bottom:20px}
.option-card .price{font-size:1.3rem;font-weight:700;color:var(--accent);margin-bottom:20px}
.option-features{text-align:left;margin:20px 0}
.option-features li{margin-bottom:8px;padding-left:20px;position:relative}
.option-features li::before{content:"‚úì";color:#22c55e;position:absolute;left:0;font-weight:bold}
.btn{display:inline-block;padding:14px 28px;background:var(--accent);color:#fff;border-radius:25px;font-weight:600;text-decoration:none;transition:all 0.3s ease;border:2px solid var(--accent);cursor:pointer;width:100%;font-size:1.1rem}
.btn:hover{background:transparent;color:var(--accent)}
.btn:disabled{background:var(--sub);border-color:var(--sub);cursor:not-allowed}
.location-selector{margin-top:20px}
.location-selector select,.location-selector input{width:100%;padding:12px;border:2px solid var(--line);border-radius:12px;font-size:1rem;margin-bottom:15px}
.time-slots{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px}
.time-slot{padding:10px;border:2px solid var(--line);border-radius:8px;text-align:center;cursor:pointer;transition:all 0.3s ease}
.time-slot:hover{border-color:var(--accent)}
.time-slot.selected{background:var(--accent);color:white;border-color:var(--accent)}
.delivery-summary{background:var(--card);border:2px solid var(--line);border-radius:var(--radius);padding:25px;margin-top:30px}
.delivery-summary h3{color:var(--accent);margin-bottom:15px}
.summary-item{display:flex;justify-content:space-between;margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid var(--line)}
.summary-total{display:flex;justify-content:space-between;font-weight:700;color:var(--accent);font-size:1.2rem;margin-top:15px;padding-top:15px;border-top:2px solid var(--line)}
footer{margin-top:80px;padding:40px 20px;background:var(--card);border-top:2px solid var(--line);text-align:center;color:var(--sub)}
@media (max-width:768px){
  header{padding:16px 20px;flex-direction:column;gap:16px}
  nav.menu{gap:12px;flex-wrap:wrap;justify-content:center}
  .delivery-options{grid-template-columns:1fr}
  .time-slots{grid-template-columns:1fr}
}
</style>
</head>
<body>
<header>
  <div class="brand">üçù La Nonna</div>
  <nav class="menu">
    <a href="index.html">Inicio</a>
    <a href="compras.html">Productos</a>
    <a href="carrito.html">Carrito</a>
  </nav>
</header>

<div class="wrap">
  <h1>Opciones de Entrega</h1>
  
  <div class="delivery-options">
    <div class="option-card" id="pickup-option">
      <div class="option-icon">üè™</div>
      <h3>Retiro en Tienda</h3>
      <p>Recoge tu pedido en nuestro local</p>
      <div class="price">GRATIS</div>
      
      <div class="option-features">
        <li>Listo en 20-30 minutos</li>
        <li>Sin costo de env√≠o</li>
        <li>Atenci√≥n personalizada</li>
        <li>Paga al retirar</li>
        <li>Consulta el estado en tiempo real</li>
      </div>

      <div class="location-selector">
        <select id="store-location">
          <option value="">Selecciona sucursal</option>
          <option value="providencia">Av. Italia 1234, Providencia</option>
          <option value="nunoa">Av. Jos√© Pedro Alessandri 456, √ëu√±oa</option>
          <option value="las-condes">Av. Apoquindo 789, Las Condes</option>
        </select>
        
        <div class="time-slots">
          <div class="time-slot" data-time="30">Lo antes posible (~30 min)</div>
          <div class="time-slot" data-time="45">En 45 minutos</div>
          <div class="time-slot" data-time="60">En 1 hora</div>
          <div class="time-slot" data-time="90">En 1 hora 30 min</div>
        </div>
      </div>

      <button class="btn" onclick="selectDelivery('pickup')" disabled>Seleccionar Retiro</button>
    </div>

    <div class="option-card" id="delivery-option">
      <div class="option-icon">üöö</div>
      <h3>Despacho a Domicilio</h3>
      <p>Te llevamos tu pedido a casa</p>
      <div class="price">$2.000</div>
      
      <div class="option-features">
        <li>Entrega en 45-60 minutos</li>
        <li>Cobertura en toda la ciudad</li>
        <li>Seguimiento en tiempo real</li>
        <li>Pago seguro online</li>
        <li>Entregamos en la puerta de tu casa</li>
      </div>

      <div class="location-selector">
        <input type="text" id="delivery-address" placeholder="Ingresa tu direcci√≥n completa" style="width:100%;padding:12px;border:2px solid var(--line);border-radius:12px;font-size:1rem;margin-bottom:15px">
        <input type="text" id="delivery-notes" placeholder="Instrucciones especiales (opcional)" style="width:100%;padding:12px;border:2px solid var(--line);border-radius:12px;font-size:1rem;margin-bottom:15px">
        
        <select id="delivery-time">
          <option value="">Selecciona horario preferido</option>
          <option value="asap">Lo m√°s pronto posible (45-60 min)</option>
          <option value="13-14">13:00 - 14:00</option>
          <option value="14-15">14:00 - 15:00</option>
          <option value="19-20">19:00 - 20:00</option>
          <option value="20-21">20:00 - 21:00</option>
        </select>
      </div>

      <button class="btn" onclick="selectDelivery('delivery')" disabled>Seleccionar Despacho</button>
    </div>
  </div>

  <div class="delivery-summary">
    <h3>Resumen de Entrega</h3>
    <div class="summary-item">
      <span>M√©todo seleccionado:</span>
      <span id="summary-method">-</span>
    </div>
    <div class="summary-item">
      <span>Ubicaci√≥n:</span>
      <span id="summary-location">-</span>
    </div>
    <div class="summary-item">
      <span>Tiempo estimado:</span>
      <span id="summary-time">-</span>
    </div>
    <div class="summary-item">
      <span>Costo de env√≠o:</span>
      <span id="summary-cost">$0</span>
    </div>
    <div class="summary-total">
      <span>Total entrega:</span>
      <span id="summary-total">$0</span>
    </div>
  </div>
</div>

<footer>
  ¬© 2025 La Nonna ¬∑ Tradici√≥n italiana en cada plato ¬∑ Todos los derechos reservados
</footer>

<script>
let selectedOption = null;
let selectedTimeSlot = null;

function selectDelivery(option) {
  selectedOption = option;
  document.querySelectorAll('.option-card').forEach(card => {
    card.classList.remove('selected');
  });
  document.getElementById(option + '-option').classList.add('selected');
  
  updateSummary();
  
  const deliveryCost = option === 'pickup' ? 0 : 2000;
  localStorage.setItem('deliveryOption', JSON.stringify({
    type: option,
    cost: deliveryCost,
    location: option === 'pickup' ? document.getElementById('store-location').value : document.getElementById('delivery-address').value,
    time: selectedTimeSlot || document.getElementById('delivery-time').value
  }));
  
  setTimeout(() => {
    window.location.href = 'checkout.html';
  }, 1000);
}

function updateSummary() {
  const method = selectedOption === 'pickup' ? 'Retiro en tienda' : 'Delivery a domicilio';
  const location = selectedOption === 'pickup' ? 
    document.getElementById('store-location').options[document.getElementById('store-location').selectedIndex]?.text : 
    document.getElementById('delivery-address').value;
  
  const time = selectedOption === 'pickup' ? 
    (selectedTimeSlot ? `En ${selectedTimeSlot} minutos` : '-') :
    document.getElementById('delivery-time').options[document.getElementById('delivery-time').selectedIndex]?.text;
  
  const cost = selectedOption === 'pickup' ? 0 : 2000;
  
  document.getElementById('summary-method').textContent = method;
  document.getElementById('summary-location').textContent = location || '-';
  document.getElementById('summary-time').textContent = time || '-';
  document.getElementById('summary-cost').textContent = `$${cost.toLocaleString()}`;
  document.getElementById('summary-total').textContent = `$${cost.toLocaleString()}`;
}

document.getElementById('store-location').addEventListener('change', function() {
  const btn = document.querySelector('#pickup-option .btn');
  btn.disabled = !this.value;
  updateSummary();
});

document.getElementById('delivery-address').addEventListener('input', function() {
  const timeSelect = document.getElementById('delivery-time');
  const btn = document.querySelector('#delivery-option .btn');
  btn.disabled = !this.value || !timeSelect.value;
  updateSummary();
});

document.getElementById('delivery-time').addEventListener('change', function() {
  const address = document.getElementById('delivery-address');
  const btn = document.querySelector('#delivery-option .btn');
  btn.disabled = !address.value || !this.value;
  updateSummary();
});

document.querySelectorAll('.time-slot').forEach(slot => {
  slot.addEventListener('click', function() {
    document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
    this.classList.add('selected');
    selectedTimeSlot = this.dataset.time;
    updateSummary();
  });
});
</script>
</body>
</html>
